# üß© WinAPI Modular Framework

–ü—Ä–æ—Å—Ç–æ–π –∏ —á–∏—Å—Ç—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ C++ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **—Ç–æ–ª—å–∫–æ WinAPI**, –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏, –∫–æ–Ω—Å–æ–ª—å—é –∏ –ø–æ—Ç–æ–∫–∞–º–∏.

> ‚úÖ C++20 Modules  
> ‚úÖ –¢–æ–ª—å–∫–æ WinAPI  
> ‚úÖ –ú–∏–Ω–∏–º–∞–ª–∏–∑–º –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å  
> ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

---

## üîß –ú–æ–¥—É–ª–∏

| –ú–æ–¥—É–ª—å         | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|----------------|-----------------------------------------------|
| `Object`       | –ë–∞–∑–æ–≤—ã–π CRTP-—à–∞–±–ª–æ–Ω                           |
| `Handle`       | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ WinAPI  |
| `String`       | –®–∏—Ä–æ–∫–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π UTF-8 / UTF-16 |
| `Hresult`      | –£–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å HRESULT                      |
| `Console`      | –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ —á—Ç–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏            |
| `File`         | –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏                              |
| `Directory`    | –†–∞–±–æ—Ç–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏                         |
| `StreamReader` | –ß—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞                                 |
| `StreamWriter` | –ó–∞–ø–∏—Å—å –≤ –ø–æ—Ç–æ–∫                                |

---

## üì¶ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üìÅ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

```cpp
win::io::File file(L"example.txt", true);
file.GetStream(); // –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
```
## üìö –ß—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
```cpp
win::io::StreamReader reader(file.GetStream());
win::dbg::Console::Info(reader.ReadToEnd());
```
## ‚úçÔ∏è –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
```cpp
win::io::StreamWriter writer(file.GetStream());
writer.WriteLine(L"–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!");
```
## üßπ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
```cpp
file.Delete();
```
## üìÅ –†–∞–±–æ—Ç–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏
```cpp
win::io::Directory dir(L"MyFolder", true);
if (dir.Exists()) {
    for (auto& file : dir.GetFiles()) {
        win::dbg::Console::Info(file.Name());
    }
}
```
## üñ•Ô∏è –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Å–æ–ª—å—é
```cpp
win::dbg::Console::WriteLine(win::dbg::Console::Color::Green, L"–£—Å–ø–µ—à–Ω–æ!");
win::dbg::Console::Error(L"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.");
```
